<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${survey.title}">Survey Form</title>
  <style>
    body { font-family: Arial; background: #f6f9fc; padding: 20px; }
    form { background: #fff; padding: 25px; border-radius: 10px; max-width: 700px; margin: auto; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    h2 { color: #0056b3; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input[type="text"], textarea, select {
      width: 100%; padding: 8px; margin-top: 6px; border: 1px solid #ccc; border-radius: 6px;
    }
    .option { margin-left: 20px; display: flex; align-items: center; gap: 5px; }
    button { background: #0078d4; color: white; border: none; padding: 10px 20px; margin-top: 15px; border-radius: 5px; cursor: pointer; }
    button:hover { background: #005fa3; }
  </style>
</head>
<body>

  <form th:action="@{'/survey/' + ${survey.id} + '/submit'}" method="post">
    <input type="hidden" th:name="employeeId" th:value="${employee != null ? employee.id : 0}" />

    <h2 th:text="${survey.title}"></h2>
    <p th:text="${survey.description}"></p>

    <div th:each="q : ${survey.questions}">
      <label th:text="${q.text}"></label>

      <!-- Text -->
      <input type="text" th:if="${q.type == 'text'}" th:name="'q_' + ${q.id}" />

      <!-- Textarea -->
      <textarea th:if="${q.type == 'textarea'}" th:name="'q_' + ${q.id}"></textarea>

      <!-- Radio -->
      <div th:if="${q.type == 'radio'}" th:each="opt : ${q.options}" class="option">
        <input type="radio" th:name="'q_' + ${q.id}" th:value="${opt}" />
        <span th:text="${opt}"></span>
      </div>

      <!-- Checkbox -->
      <div th:if="${q.type == 'checkbox'}" th:each="opt : ${q.options}" class="option">
        <input type="checkbox" th:name="'q_' + ${q.id}" th:value="${opt}" />
        <span th:text="${opt}"></span>
      </div>

      <!-- Dropdown -->
      <select th:if="${q.type == 'dropdown'}" th:name="'q_' + ${q.id}">
        <option value="">Select...</option>
        <option th:each="opt : ${q.options}" th:value="${opt}" th:text="${opt}"></option>
      </select>
    </div>

    <button type="submit">Submit</button>
  </form>

</body>
</html>
